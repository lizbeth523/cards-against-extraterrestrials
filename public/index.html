<!DOCTYPE html>

<html lang="en-us">

<head>
	
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cards Against Extraterrestrials</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link async href="http://fonts.googleapis.com/css?family=Anton" data-generated="http://enjoycss.com" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/index.css">
    <script
        src="https://code.jquery.com/jquery-3.2.1.js"
        integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
        crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
    <!-- <script src="./assets/js/firebase.js"></script> -->
    <script src="./assets/js/app.js"></script>

</head>

<body>
    
    <div class="container-fluid">
        <header class="text-center">
            <h1>Cards Against Extraterrestrials</h1>
        </header>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12">
                <h1>Welcome</h1>
            </div>
        </div>
    </div>

    <div class="container-fluid">
            
        <div class="row">
            <div class="col-xs-12">
     
                <form>
                    <div class="form-group" action="/game" method="GET">
                        <label for="userName"><h3>Username</h3></label>
                        <input type="text" class="form-control" id="name" name="user_name" placeholder="John Smith">
                    </div>
                    <a href="/game"><button type="button" class="btn btn-warning" id="login">Login</button></a>
                </form>
            </div>
        </div>
    </div>
</body>
</html>

<script>
	// Initialize Firebase
	var config = {
        apiKey: "AIzaSyDwsIqLQ2130R93_l1lGndlduTtp69OMpU",
        authDomain: "cards-against-extraterrestials.firebaseapp.com",
        databaseURL: "https://cards-against-extraterrestials.firebaseio.com",
        projectId: "cards-against-extraterrestials",
        storageBucket: "cards-against-extraterrestials.appspot.com",
        messagingSenderId: "1038459487422"
    };
    firebase.initializeApp(config);

    var database = firebase.database();

	var players = database.ref('/players');

	const btnLogin = $("#login");

	console.log(btnLogin);

	$("#login").on("click", function(event){
		event.preventDefault(event);
		
	    firebase.auth().signInAnonymously().catch(function(error) {
	    	console.log("Error occurred during sign in anonymously");
	    	console.log("Error code = " + error.code);
	    	console.log("Error message = " + error.message);
	    });
	    console.log("login button was clicked");
	});

	firebase.auth().onAuthStateChanged(firebaseUser=>{
		console.log(firebaseUser);
		console.log(firebaseUser.uid);
		players.push(firebaseUser.uid);
	});
</script>